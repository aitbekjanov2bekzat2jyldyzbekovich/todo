import{j as b,_ as l,i as p,o,c as i,a,b as d,d as h,k as u,n as _,p as m,f as v,m as y,h as I,F as $,r as x,t as B,g as P,l as V}from"./index-B0q1FkUc.js";var n=256,S=[],g=256,r;for(;n--;)S[n]=(n+256).toString(16).substring(1);function f(s){var t=0,e=11;if(!r||n+e>g*2)for(r="",n=0;t<g;t++)r+=S[Math.random()*256|0];return r.substring(n,n+++e)}const L=b("beka",{state:()=>({inputValue:"",dataHome:[],URL:"http://localhost:3000/savedPosts",dataSave:[],loadStatus:!0,appMessage:[],idChangeCard:null,statusInputChange:!1,inputChangeVallue:""}),actions:{addPost(){this.inputValue.length>5&&(this.dataHome.unshift({id:f(),text:`<p>${this.inputValue}</p>`,status:!1}),this.inputValue="")},removePost(s){this.dataHome=this.dataHome.filter(t=>t.id!==s)},async sevePost(s){if(s.status)this.removeSavedPost(s.id,s);else{const t=await fetch(this.URL,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)});s.status=t.ok}},async removeSavedPost(s,t){(await fetch(`${this.URL}/${s}`,{method:"DELETE"})).ok&&(t.status=!1),this.getPost()},async getPost(){const s=await fetch(this.URL),t=await s.json();this.dataSave=await t,s.ok&&(this.loadStatus=!1)},async sendMessage(s){await this.appMessage.unshift({id:f(),message:s}),await this.clearMessage()},clearMessage(){setTimeout(()=>{this.appMessage=this.appMessage.filter((s,t,e)=>e.length<t)},5e3)},openInp(s,t){this.inputChangeVallue=t,this.statusInputChange=!0,this.idChangeCard=s},async changeCard(){const s=await fetch(`${this.URL}/${this.idChangeCard}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({text:this.inputChangeVallue})});this.statusInputChange=!1,await this.getPost(),await s.ok?this.sendMessage("Изменено"):this.clearMessage()}}}),R={},T=s=>(m("data-v-acb175dd"),s=s(),v(),s),E={class:"navBar z-depth-1"},H=T(()=>a("div",{class:"navLogo"},[a("i",{class:"medium material-icons"},"content_paste")],-1)),U={class:"z-depth-0"},F={class:"nav-wrapper white"},N={id:"nav-mobile",class:"right"};function j(s,t){const e=p("router-link");return o(),i("div",E,[H,a("nav",U,[a("div",F,[a("ul",N,[a("li",null,[d(e,{class:_(["black-text",{activedRout:this.$route.name==="home"}]),to:"/"},{default:h(()=>[u("Cоздать")]),_:1},8,["class"])]),a("li",null,[d(e,{class:_(["black-text",{activedRout:this.$route.name==="save"}]),to:"/saved"},{default:h(()=>[u("Сохраненные")]),_:1},8,["class"])])])])])])}const z=l(R,[["render",j],["__scopeId","data-v-acb175dd"]]),D={computed:{...y(L)}};function O(s,t,e,C,k,w){return o(),I(P,{name:"list",tag:"div",class:"appMesageWraper"},{default:h(()=>[(o(!0),i($,null,x(this.bekaStore.appMessage,c=>(o(),i("div",{class:"mesaageBox z-depth-1",key:c.id},[a("p",null,B(c.message),1)]))),128))]),_:1})}const J=l(D,[["render",O],["__scopeId","data-v-c969c287"]]),X={components:{navBar:z,appMessage:J}},A={class:"container"};function G(s,t,e,C,k,w){const c=p("appMessage"),M=p("navBar");return o(),i($,null,[d(c),a("div",A,[d(M),V(s.$slots,"default")])],64)}const ss=l(X,[["render",G]]),W={},Z=s=>(m("data-v-67339b3d"),s=s(),v(),s),q=Z(()=>a("h3",null,"Пусто",-1)),K=[q];function Q(s,t){return o(),i("div",null,K)}const ts=l(W,[["render",Q],["__scopeId","data-v-67339b3d"]]);export{ss as m,ts as n,L as u};
